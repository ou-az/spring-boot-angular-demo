<div class="program-detail-container" *ngIf="program">
  <div class="container">
    <!-- Header Section -->
    <div class="mb-4">
      <button class="btn btn-sm btn-outline-secondary mb-3" (click)="goBack()">
        <i class="bi bi-arrow-left me-1"></i> Back to Programs
      </button>
      
      <div class="d-flex align-items-center mb-2">
        <div class="program-icon-container me-3">
          <i class="bi {{ program.icon }}"></i>
        </div>
        <h1>{{ program.name }}</h1>
      </div>
      <p class="text-muted lead">{{ program.description }}</p>
    </div>
    
    <!-- Quick Info Section -->
    <div class="card border-0 shadow-sm mb-4">
      <div class="card-body">
        <div class="row">
          <div class="col-md-4 mb-3 mb-md-0">
            <h6 class="text-muted">Interest Rate Range</h6>
            <p class="h4">{{ program.interestRateRange }}</p>
          </div>
          <div class="col-md-4 mb-3 mb-md-0">
            <h6 class="text-muted">Minimum Down Payment</h6>
            <p class="h4">{{ program.minDownPayment }}%</p>
          </div>
          <div class="col-md-4">
            <h6 class="text-muted">Loan Terms</h6>
            <p class="h4">{{ program.termYears.join(', ') }} years</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Main Content Section -->
    <div class="row">
      <div class="col-lg-8 mb-4 mb-lg-0">
        <!-- Program Details -->
        <div class="card border-0 shadow-sm mb-4">
          <div class="card-header bg-white">
            <h3 class="card-title h5 mb-0">Program Details</h3>
          </div>
          <div class="card-body">
            <h4 class="h6">Key Benefits</h4>
            <ul class="mb-4">
              <li *ngFor="let benefit of program.featuredBenefits">{{ benefit }}</li>
            </ul>
            
            <h4 class="h6">Eligibility</h4>
            <p>{{ program.eligibilityNotes }}</p>
            
            <div class="alert alert-info mt-3">
              <div class="d-flex">
                <div class="me-3">
                  <i class="bi bi-info-circle-fill fs-4"></i>
                </div>
                <div>
                  <h5 class="alert-heading h6">Loan Limits</h5>
                  <p class="mb-0">Loan limits vary by county and are updated annually. Contact a loan officer for current limits in your area.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Comparison Table -->
        <div class="card border-0 shadow-sm mb-4">
          <div class="card-header bg-white">
            <h3 class="card-title h5 mb-0">How This Program Compares</h3>
          </div>
          <div class="card-body p-0">
            <div class="table-responsive">
              <table class="table m-0">
                <thead class="table-light">
                  <tr>
                    <th>Loan Type</th>
                    <th>Down Payment</th>
                    <th>Credit Score</th>
                    <th>Mortgage Insurance</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of comparisonData.downPayment; let i = index">
                    <td>{{ item.program }}</td>
                    <td>{{ item.value }}</td>
                    <td>{{ comparisonData.creditScore[i].value }}</td>
                    <td>{{ comparisonData.mortgageInsurance[i].value }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        
        <!-- FAQs Section -->
        <div class="card border-0 shadow-sm">
          <div class="card-header bg-white">
            <h3 class="card-title h5 mb-0">Frequently Asked Questions</h3>
          </div>
          <div class="card-body">
            <div class="accordion" id="faqAccordion">
              <div class="accordion-item border-0 mb-3" *ngFor="let faq of faqs; let i = index">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#faq' + i">
                    {{ faq.question }}
                  </button>
                </h2>
                <div [id]="'faq' + i" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                  <div class="accordion-body">
                    {{ faq.answer }}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Sidebar -->
      <div class="col-lg-4">
        <!-- Quick Actions -->
        <div class="card border-0 shadow-sm mb-4">
          <div class="card-header bg-white">
            <h3 class="card-title h5 mb-0">Get Started</h3>
          </div>
          <div class="card-body">
            <div class="d-grid gap-3">
              <button class="btn btn-primary" (click)="startApplication()">
                <i class="bi bi-file-earmark-text me-2"></i>Apply Now
              </button>
              <button class="btn btn-outline-primary" (click)="goToCalculator()">
                <i class="bi bi-calculator me-2"></i>Calculate Payment
              </button>
            </div>
            
            <hr>
            
            <div class="text-center">
              <p class="mb-2">Need help choosing?</p>
              <div class="d-grid">
                <button class="btn btn-outline-secondary">
                  <i class="bi bi-telephone me-2"></i>Speak with a Loan Officer
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Testimonial -->
        <div class="card border-0 shadow-sm bg-light">
          <div class="card-body">
            <div class="d-flex justify-content-center mb-3">
              <div class="text-warning">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
              </div>
            </div>
            <p class="fst-italic text-center">"The mortgage application process was so smooth. My loan officer walked me through each step and found the perfect program for my situation."</p>
            <div class="text-center">
              <p class="fw-bold mb-0">Sarah Johnson</p>
              <small class="text-muted">First-time homebuyer</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="text-center py-5" *ngIf="!program">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <p class="mt-3">Loading program details...</p>
</div>
